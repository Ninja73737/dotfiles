#! /usr/bin/env bash

X Configuration

$HOME/.scripts/display_setup

xinput --set-prop "Corsair CORSAIR HARPOON RGB WIRELESS Gaming Dongle" "libinput Accel Profile Enabled" 0, 1

sensitivity_factor=1.25

# xinput set-prop "Corsair CORSAIR HARPOON RGB WIRELESS Gaming Dongle" "Coordinate Transformation Matrix" $sensitivity_factor 0 0 0 $sensitivity_factor 0 0 0 1

# bspwm Settings

bspc monitor HDMI-0 -d 1 2 3 4 5
bspc monitor DVI-D-0 -d 6 7 8 9
bspc monitor HDMI-0 -s DVI-D-0

bspc config focus_follows_pointer   true
bspc config pointer_follows_focus   true
bspc config pointer_follows_monitor true
bspc config top_padding             0
bspc config border_width            0
bspc config window_gap              16
bspc config pointer_modifier        mod1
bspc config pointer_action1         move
bspc config pointer_action2         resize_side

bspc config split_ratio             0.5
bspc config borderless_monocle      false
bspc config gapless_monocle         false

# bspwm Rules

bspc rule -r "*"

bspc rule -a Gimp state=floating follow=on
bspc rule -a Zathura state=tiled

# Autostart Services

pgrep sxhkd || sxhkd &
pgrep picom || picom --experimental-backends &
pgrep flashfocus || flashfocus &
pgrep dunst || dunst &
pgrep rescuetime || rescuetime &
pgrep mailspring || mailspring --background &
pgrep discord || discord &
pgrep spotify || spotify &
# pgrep notion-app || notion-app &

$HOME/.config/polybar/launch.sh &

# Recover Wallpaper and Theme

fish -c "sleep 1; wal -R" &
